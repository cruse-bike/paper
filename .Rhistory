citr:::insert_citation()
#| eval: false
#| echo: false
# Results for one city are shown below
cities = c("dublin", "cork", "limerick", "galway")
city_name = "dublin"
city_buffer = zonebuilder::zb_zone(city_name)
# Chunk 1
#| include: false
library(tidyverse)
# Chunk 2
#| include: false
#| eval: false
remotes::install_dev("tmap")
# Chunk 3
#| include: false
tools = read_csv("tools.csv")
tools = tools |>
transmute(
`Approach` = paste0(Tool, ", ", Reference),
`Coverage and input data` = paste0(Coverage, ", ", `Input data`),
`Outputs and availability` = Output,
License = Licence
)
# Chunk 4: tbl-tools
#| label: tbl-tools
knitr::kable(tools, caption = "Summary of existing tools for estimating cycling potential.", booktabs = TRUE) |>
kableExtra::kable_styling(latex_options = "striped", full_width = FALSE) |>
kableExtra::column_spec(1, width = "13em") |>
kableExtra::column_spec(2, width = "15em") |>
kableExtra::column_spec(3, width = "12em") |>
kableExtra::column_spec(4, width = "5em")
#| include: false
trip_purposes = read_csv("trip_purposes.csv")
#| label: tbl-tools
# For PDF:
knitr::kable(trip_purposes, caption = "Trip purposes used in the CRUSE Tool.", booktabs = TRUE) |>
kableExtra::kable_styling(latex_options = "striped", full_width = FALSE)
View(trip_purposes)
knitr::kable(trip_purposes, caption = "Trip purposes used in the CRUSE Tool.", booktabs = TRUE)
# For PDF:
knitr::kable(trip_purposes)
#| include: false
trip_purposes = read_csv("trip_purposes.csv")
#| include: false
trip_purposes = read_csv("trip_purposes.csv")
#| include: false
trip_purposes = read_csv("trip_purposes.csv")
#| label: tbl-tools
# For PDF:
knitr::kable(trip_purposes, caption = "Trip purposes used in the CRUSE Tool.", booktabs = TRUE) |>
kableExtra::kable_styling(latex_options = "striped", full_width = FALSE) |>
kableExtra::column_spec(1, width = "13em") |>
kableExtra::column_spec(2, width = "15em") |>
kableExtra::column_spec(3, width = "12em") |>
kableExtra::column_spec(4, width = "5em")
# Chunk 1
#| include: false
library(tidyverse)
# Chunk 2
#| include: false
#| eval: false
remotes::install_dev("tmap")
library(tmap)
# Save title page (1st page of paper.pdf):
system("pdftk _site/paper.pdf cat 1 output _site/title_page.pdf")
# Combine cv.pdf with visions.pdf:
system("pdftk _site/cv.pdf _site/visions.pdf cat output _site/cv_and_visions.pdf")
# latexdiffr::latexdiff("paper-v1.qmd", "paper.qmd")
system("latexdiff paper-v1.tex paper.tex > tracked-changes.tex")
system("pdflatex tracked-changes.tex")
browseURL("tracked-changes.pdf")
# Chunk 3
#| include: false
tools = read_csv("tools.csv")
tools = tools |>
transmute(
`Approach` = paste0(Tool, ", ", Reference),
`Coverage and input data` = paste0(Coverage, ", ", `Input data`),
`Outputs and availability` = Output,
License = Licence
)
# Chunk 4: tbl-tools
#| label: tbl-tools
# For PDF:
knitr::kable(tools, caption = "Summary of existing tools for estimating cycling potential.", booktabs = TRUE) |>
kableExtra::kable_styling(latex_options = "striped", full_width = FALSE) |>
kableExtra::column_spec(1, width = "13em") |>
kableExtra::column_spec(2, width = "15em") |>
kableExtra::column_spec(3, width = "12em") |>
kableExtra::column_spec(4, width = "5em")
# For HTML:
# knitr::kable(tools, caption = "Summary of existing tools for estimating cycling potential.")
# Chunk 5
#| include: false
trip_purposes = read_csv("trip_purposes.csv")
#| include: false
trip_purposes = read_csv("trip_purposes.csv")
#| label: tbl-tools
# For PDF:
knitr::kable(trip_purposes, caption = "Trip purposes used in the CRUSE Tool.", booktabs = TRUE) |>
kableExtra::kable_styling(latex_options = "striped", full_width = FALSE) |>
kableExtra::column_spec(1, width = "13em") |>
kableExtra::column_spec(2, width = "15em") |>
kableExtra::column_spec(3, width = "12em") |>
kableExtra::column_spec(4, width = "5em")
#| include: false
trip_purposes = read_csv("trip_purposes.csv")
#| label: tbl-trip_purposes
# For PDF:
knitr::kable(trip_purposes, caption = "Trip purposes used in the CRUSE Tool.", booktabs = TRUE) |>
kableExtra::kable_styling(latex_options = "striped", full_width = FALSE) |>
kableExtra::column_spec(1, width = "13em") |>
kableExtra::column_spec(2, width = "15em") |>
kableExtra::column_spec(3, width = "12em") |>
kableExtra::column_spec(4, width = "5em")
#| include: false
trip_purposes = read_csv("trip_purposes.csv") %>%
mutate_if(is.character, utf8::utf8_encode)
#| label: tbl-trip_purposes
# For PDF:
knitr::kable(trip_purposes, caption = "Trip purposes used in the CRUSE Tool.", booktabs = TRUE) |>
kableExtra::kable_styling(latex_options = "striped", full_width = FALSE) |>
kableExtra::column_spec(1, width = "13em") |>
kableExtra::column_spec(2, width = "15em") |>
kableExtra::column_spec(3, width = "12em") |>
kableExtra::column_spec(4, width = "5em")
#| include: false
trip_purposes = read_csv("trip_purposes.csv") %>%
mutate_if(is.character, utf8::utf8_encode)
#| label: tbl-trip_purposes
# For PDF:
knitr::kable(trip_purposes, caption = "Trip purposes used in the CRUSE Tool.", booktabs = TRUE) |>
kableExtra::kable_styling(latex_options = "striped", full_width = FALSE) |>
kableExtra::column_spec(1, width = "13em") |>
kableExtra::column_spec(2, width = "15em") |>
kableExtra::column_spec(3, width = "12em") |>
kableExtra::column_spec(4, width = "5em")
# For HTML:
# knitr::kable(trip_purposes, caption = "Trip purposes used in the CRUSE Tool.")
# Chunk 1
#| include: false
library(tidyverse)
# Chunk 2
#| include: false
#| eval: false
remotes::install_dev("tmap")
library(tmap)
# Save title page (1st page of paper.pdf):
system("pdftk _site/paper.pdf cat 1 output _site/title_page.pdf")
# Combine cv.pdf with visions.pdf:
system("pdftk _site/cv.pdf _site/visions.pdf cat output _site/cv_and_visions.pdf")
# latexdiffr::latexdiff("paper-v1.qmd", "paper.qmd")
system("latexdiff paper-v1.tex paper.tex > tracked-changes.tex")
system("pdflatex tracked-changes.tex")
browseURL("tracked-changes.pdf")
# Chunk 3
#| include: false
tools = read_csv("tools.csv")
tools = tools |>
transmute(
`Approach` = paste0(Tool, ", ", Reference),
`Coverage and input data` = paste0(Coverage, ", ", `Input data`),
`Outputs and availability` = Output,
License = Licence
)
# Chunk 4: tbl-tools
#| label: tbl-tools
# For PDF:
knitr::kable(tools, caption = "Summary of existing tools for estimating cycling potential.", booktabs = TRUE) |>
kableExtra::kable_styling(latex_options = "striped", full_width = FALSE) |>
kableExtra::column_spec(1, width = "13em") |>
kableExtra::column_spec(2, width = "15em") |>
kableExtra::column_spec(3, width = "12em") |>
kableExtra::column_spec(4, width = "5em")
# For HTML:
# knitr::kable(tools, caption = "Summary of existing tools for estimating cycling potential.")
# Chunk 5
#| include: false
trip_purposes = read_csv("trip_purposes.csv") %>%
mutate_if(is.character, utf8::utf8_encode)
# Chunk 6: tbl-trip_purposes
#| label: tbl-trip_purposes
# For PDF:
knitr::kable(trip_purposes, caption = "Trip purposes used in the CRUSE Tool.", booktabs = TRUE) |>
kableExtra::kable_styling(latex_options = "striped", full_width = FALSE) |>
kableExtra::column_spec(1, width = "13em") |>
kableExtra::column_spec(2, width = "15em") |>
kableExtra::column_spec(3, width = "12em") |>
kableExtra::column_spec(4, width = "5em")
# For HTML:
# knitr::kable(trip_purposes, caption = "Trip purposes used in the CRUSE Tool.")
# https://www.sesync.org/resources/creating-visualizations-diagrammer
schematic = grViz("
digraph {
# graph statement
#################
graph [rankdir = LR
color = white
fontsize = 36]
# nodes (rectangles)
#################
node [shape = rectangle
margin = 0.4
fontsize = 36
fixedsize = false
width = 1]
subgraph cluster_2 {
graph[shape = rectangle]
C2b [label = 'Exploration']
C2a [label = 'CRUSE\ncounty level results']
C2 [label = 'CRUSE\nnational map']
B2 [label = 'CRUSE\nlanding page']
A2 [label = 'Non professional\nuser']
}
subgraph cluster_1 {
graph[shape = rectangle]
Dd [label = 'Data dowloads']
Dc [label = 'Quiet and fast route\nnetworks']
Db [label = 'County statistics']
Da [label = 'Full county map']
D [label = 'CRUSE\ncounty map']
C [label = 'CRUSE\nnational map']
B [label = 'CRUSE\nlanding page']
A [label = 'Professional user']
}
# node (triangle)
#################
node [shape = diamond]
Dd1 [label = 'External\ntools']
C2b1 [label = 'Communication']
# edges
#######
A2 -> B2
A -> B
B -> C
B2 -> C2
C -> D
C2 -> C2a
C2 -> C2b
C2b -> C2b1
D -> Da
D -> Db
D -> Dc
D -> Dd
Dd -> Dd1
}
")
schematic = DiagrammeR::grViz("
digraph {
# graph statement
#################
graph [rankdir = LR
color = white
fontsize = 36]
# nodes (rectangles)
#################
node [shape = rectangle
margin = 0.4
fontsize = 36
fixedsize = false
width = 1]
subgraph cluster_2 {
graph[shape = rectangle]
C2b [label = 'Exploration']
C2a [label = 'CRUSE\ncounty level results']
C2 [label = 'CRUSE\nnational map']
B2 [label = 'CRUSE\nlanding page']
A2 [label = 'Non professional\nuser']
}
subgraph cluster_1 {
graph[shape = rectangle]
Dd [label = 'Data dowloads']
Dc [label = 'Quiet and fast route\nnetworks']
Db [label = 'County statistics']
Da [label = 'Full county map']
D [label = 'CRUSE\ncounty map']
C [label = 'CRUSE\nnational map']
B [label = 'CRUSE\nlanding page']
A [label = 'Professional user']
}
# node (triangle)
#################
node [shape = diamond]
Dd1 [label = 'External\ntools']
C2b1 [label = 'Communication']
# edges
#######
A2 -> B2
A -> B
B -> C
B2 -> C2
C -> D
C2 -> C2a
C2 -> C2b
C2b -> C2b1
D -> Da
D -> Db
D -> Dc
D -> Dd
Dd -> Dd1
}
")
schematic
knitr::include_graphics("fig5.jpg")
htmlwidgets::saveWidget(schematic, "images/fig5.html")
browseURL("images/fig5.html")
knitr::include_graphics("fig5.jpg")
webshot2::webshot(url = "images/fig5.", file = "images/fig5.")
htmlwidgets::saveWidget(schematic, "images/fig5.html")
browseURL("images/fig5.html")
webshot2::webshot(url = "fig5.html", file = "fig5.png")
install.packages("webshot2")
schematic = DiagrammeR::grViz("
digraph {
# graph statement
#################
graph [rankdir = LR
color = white
fontsize = 36]
# nodes (rectangles)
#################
node [shape = rectangle
margin = 0.4
fontsize = 36
fixedsize = false
width = 1]
subgraph cluster_2 {
graph[shape = rectangle]
C2b [label = 'Exploration']
C2a [label = 'CRUSE\ncounty level results']
C2 [label = 'CRUSE\nnational map']
B2 [label = 'CRUSE\nlanding page']
A2 [label = 'Non professional\nuser']
}
subgraph cluster_1 {
graph[shape = rectangle]
Dd [label = 'Data dowloads']
Dc [label = 'Quiet and fast route\nnetworks']
Db [label = 'County statistics']
Da [label = 'Full county map']
D [label = 'CRUSE\ncounty map']
C [label = 'CRUSE\nnational map']
B [label = 'CRUSE\nlanding page']
A [label = 'Professional user']
}
# node (triangle)
#################
node [shape = diamond]
Dd1 [label = 'External\ntools']
C2b1 [label = 'Communication']
# edges
#######
A2 -> B2
A -> B
B -> C
B2 -> C2
C -> D
C2 -> C2a
C2 -> C2b
C2b -> C2b1
D -> Da
D -> Db
D -> Dc
D -> Dd
Dd -> Dd1
}
")
schematic
htmlwidgets::saveWidget(schematic, "images/fig5.html")
browseURL("images/fig5.html")
webshot2::webshot(url = "fig5.html", file = "fig5.png")
webshot2::webshot(url = "images/fig5.html", file = "images/fig5.png")
knitr::include_graphics("images/fig5.jpg")
knitr::include_graphics("images/fig5.png")
# https://www.sesync.org/resources/creating-visualizations-diagrammer
schematic = DiagrammeR::grViz("
digraph {
# graph statement
#################
graph [rankdir = LR
color = white
fontsize = 36]
# nodes (rectangles)
#################
node [shape = rectangle
margin = 0.4
fontsize = 36
fixedsize = false
width = 1]
subgraph cluster_2 {
graph[shape = rectangle]
C2b [label = 'Exploration']
C2a [label = 'CRUSE\ncounty level results']
C2 [label = 'CRUSE\nnational map']
B2 [label = 'CRUSE\nlanding page']
A2 [label = 'Non professional\nuser']
}
subgraph cluster_1 {
graph[shape = rectangle]
Dd [label = 'Data dowloads']
Dc [label = 'Quiet and fast route\nnetworks']
Db [label = 'County statistics']
Da [label = 'Full county map']
D [label = 'CRUSE\ncounty map']
C [label = 'CRUSE\nnational map']
B [label = 'CRUSE\nlanding page']
A [label = 'Professional user']
}
# node (triangle)
#################
node [shape = diamond]
Dd1 [label = 'External\ntools']
C2b1 [label = 'Communication']
# edges
#######
A2 -> B2
A -> B
B -> C
B2 -> C2
C -> D
C2 -> C2a
C2 -> C2b
C2a -> C2b
C2b -> C2b1
D -> Da
D -> Db
D -> Dc
D -> Dd
Dd -> Dd1
}
")
schematic
htmlwidgets::saveWidget(schematic, "images/fig5.html")
browseURL("images/fig5.html")
webshot2::webshot(url = "images/fig5.html", file = "images/fig5.png")
knitr::include_graphics("images/fig5.png")
# schematic
# htmlwidgets::saveWidget(schematic, "images/fig5.html")
# browseURL("images/fig5.html")
# webshot2::webshot(url = "images/fig5.html", file = "images/fig5.png")
knitr::include_graphics("images/fig5.png")
# https://www.sesync.org/resources/creating-visualizations-diagrammer
schematic = DiagrammeR::grViz("
digraph {
# graph statement
#################
graph [rankdir = LR
color = white
fontsize = 36]
# nodes (rectangles)
#################
node [shape = rectangle
margin = 0.4
fontsize = 36
fixedsize = false
width = 1]
subgraph cluster_2 {
graph[shape = rectangle]
C2b [label = 'Exploration']
C2a [label = 'CRUSE\ncounty level results']
C2 [label = 'CRUSE\nnational map']
B2 [label = 'CRUSE\nlanding page']
A2 [label = 'Non-professional\nuser']
}
subgraph cluster_1 {
graph[shape = rectangle]
Dd [label = 'Data dowloads']
Dc [label = 'Quiet and fast route\nnetworks']
Db [label = 'County statistics']
Da [label = 'Full county map']
D [label = 'CRUSE\ncounty map']
C [label = 'CRUSE\nnational map']
B [label = 'CRUSE\nlanding page']
A [label = 'Professional user']
}
# node (triangle)
#################
node [shape = diamond]
Dd1 [label = 'External\ntools']
C2b1 [label = 'Communication']
# edges
#######
A2 -> B2
A -> B
B -> C
B2 -> C2
C -> D
C2 -> C2a
C2 -> C2b
C2a -> C2b
C2b -> C2b1
D -> Da
D -> Db
D -> Dc
D -> Dd
Dd -> Dd1
}
")
schematic
htmlwidgets::saveWidget(schematic, "images/fig5.html")
browseURL("images/fig5.html")
webshot2::webshot(url = "images/fig5.html", file = "images/fig5.png")
knitr::include_graphics("images/fig5.png")
# schematic
# htmlwidgets::saveWidget(schematic, "images/fig5.html")
# browseURL("images/fig5.html")
# webshot2::webshot(url = "images/fig5.html", file = "images/fig5.png")
